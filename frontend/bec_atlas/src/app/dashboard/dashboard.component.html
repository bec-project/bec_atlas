<mat-sidenav-container class="sidenav-container">
  <mat-sidenav mode="side" opened>
    <div>
      <img
        src="assets/BEC-Atlas-full-transparent.png"
        alt="BEC"
        width="80"
        height="80"
        style="margin: 10px"
      />
    </div>
    <mat-divider></mat-divider>

    <!-- Username expansion panel -->
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-icon>account_circle</mat-icon>
        <span class="menu-text">Username</span>
      </mat-expansion-panel-header>

      <button mat-button>Profile</button>
      <button mat-button>Settings</button>
      <button mat-button>Logout</button>
    </mat-expansion-panel>

    <mat-divider></mat-divider>

    <!-- Scan Table -->
    <button
      mat-button
      class="menu-item"
      [routerLink]="['/dashboard/scan-table']"
    >
      <mat-icon>home</mat-icon>
      <span class="menu-text">Data Browser</span>
    </button>

    <!-- Experiment Control Expansion -->
    <mat-expansion-panel
      (opened)="panelOpened()"
      [hideToggle]="hideExperimentPanel"
    >
      <mat-expansion-panel-header>
        <mat-icon>science</mat-icon>
        <span class="menu-text">Experiment Control</span>
      </mat-expansion-panel-header>

      <button
        mat-button
        class="menu-item"
        [routerLink]="['/dashboard/overview-grid']"
      >
        <span class="menu-text">Control</span>
      </button>
      <button
        mat-button
        class="menu-item"
        [routerLink]="['/dashboard/deployment-admin']"
      >
        <span class="menu-text">Admin</span>
      </button>

      <button mat-button class="menu-item" (click)="openDeploymentDialog()">
        <span class="menu-text">{{ selectOrSwitchButtonTitle }}</span>
      </button>
    </mat-expansion-panel>

    <!-- Help -->
    <button mat-button class="menu-item">
      <mat-icon>help</mat-icon>
      <span class="menu-text">Help</span>
    </button>
    <div class="spacer"></div>
    @if ((realm_name) && (deployment_name)) {
    <div class="footer">
      <mat-divider></mat-divider>
      <div class="menu-text">{{ realm_name }}</div>
      <div class="menu-text">{{ deployment_name }}</div>
    </div>
    }
  </mat-sidenav>

  <mat-sidenav-content>
    <div class="content">
      <router-outlet></router-outlet>
    </div>
  </mat-sidenav-content>
</mat-sidenav-container>
